(()=>{"use strict";function e(e,t){var o;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(o=function(e,t){if(e){if("string"==typeof e)return n(e,t);var o=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(o="Object"===o&&e.constructor?e.constructor.name:o)||"Set"===o?Array.from(e):"Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?n(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){o&&(e=o);var r=0;return{s:t=function(){},n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:t}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){o=e[Symbol.iterator]()},n:function(){var e=o.next();return a=e.done,e},e:function(e){u=!0,i=e},f:function(){try{a||null==o.return||o.return()}finally{if(u)throw i}}}}function n(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,o=new Array(n);t<n;t++)o[t]=e[t];return o}(new(function(){function n(e){!function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,n),this.threshold=e,this.isMobile=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}var t;return(t=[{key:"getIEVersion",value:function(){var e=window.navigator.userAgent,n=e.indexOf("MSIE");return 0<n?parseInt(e.substring(n+5,e.indexOf(".",n))):navigator.userAgent.match(/Trident\/7\./)?11:0}},{key:"checkVisible",value:function(e){var n=e.getBoundingClientRect();return e=Math.max(document.documentElement.clientHeight,window.innerHeight),!(n.bottom-90<0||0<=n.top-(e-80))}},{key:"animation",value:function(){var n,t=e(document.querySelectorAll(".ani__item"));try{for(t.s();!(n=t.n()).done;){var o=n.value;this.checkVisible(o)?o.classList.add("fs-ani"):o.classList.remove("fs-ani")}}catch(n){t.e(n)}finally{t.f()}}},{key:"lazyLoad",value:function(){var n,t=1100<window.innerWidth?".cm-pic.fs-lazy, .pc-pic.fs-lazy":".cm-pic.fs-lazy, .sp-pic.fs-lazy",o=e(document.querySelectorAll(t));try{for(o.s();!(n=o.n()).done;){var r=n.value;r.getBoundingClientRect().top<=window.innerHeight+this.threshold&&(r.setAttribute("src",r.getAttribute("data-src")),r.classList.remove("fs-lazy"))}}catch(n){o.e(n)}finally{o.f()}t=1100<window.innerWidth?".cm-bg.fs-lazy, .pc-bg.fs-lazy":".cm-bg.fs-lazy, .sp-bg.fs-lazy";var i,a=e(document.querySelectorAll(t));try{for(a.s();!(i=a.n()).done;){var u=i.value;u.getBoundingClientRect().top<=window.innerHeight+this.threshold&&(u.style.backgroundImage="url("+u.getAttribute("data-src")+")",u.classList.remove("fs-lazy"))}}catch(n){a.e(n)}finally{a.f()}}},{key:"openPopup",value:function(){document.body.classList.add("open__popup")}},{key:"closePopup",value:function(){document.body.classList.remove("open__popup")}},{key:"toggleMenu",value:function(){document.body.classList.contains("open__menu")?document.body.classList.remove("open__menu"):document.body.classList.add("open__menu")}},{key:"onScroll",value:function(){var e=this;setTimeout((function(){e.lazyLoad(),e.animation()}),0)}},{key:"onResize",value:function(){this.isMobile||(this.lazyLoad(),this.animation())}},{key:"onRotate",value:function(){}},{key:"init",value:function(){var n=this;0<this.getIEVersion()&&document.body.classList.add("isIE"),null!==document.querySelector(".nav__but")&&document.querySelector(".nav__but").addEventListener("click",(function(){return n.toggleMenu()}));var t,o=e(document.querySelectorAll(".popup__open"));try{for(o.s();!(t=o.n()).done;)t.value.addEventListener("click",(function(){return n.openPopup()}))}catch(n){o.e(n)}finally{o.f()}var r,i,a=e(document.querySelectorAll(".popup__close"));try{for(a.s();!(r=a.n()).done;)r.value.addEventListener("click",(function(){return n.closePopup()}))}catch(n){a.e(n)}finally{a.f()}null!==document.querySelector(".fs-navigation")&&(i=document.body.getAttribute("data-page"),document.querySelector(".fs-navigation li[data-nav="+i).classList.add("active")),window.addEventListener("scroll",(function(){return n.onScroll()})),window.addEventListener("orientationchange",(function(){return n.onRotate()})),window.addEventListener("resize",(function(){return n.onResize()})),this.onScroll()}}])&&function(e,n){for(var t=0;t<n.length;t++){var o=n[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}(n.prototype,t),n}())).init()})();