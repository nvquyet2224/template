<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Image editor</title>
<link rel="icon" href="favicon.ico">

<script type="text/javascript" src="FileSaver.js"></script>
<script type="text/javascript" src="fabric.js"></script>

<style>
 body {
	 margin:0;
	 padding:0;
 }
 .fabric-content {
	 position:relative;
	 width:800px;
	 height:auto;
	 margin:200px auto 0 auto;
	 padding:20px;
	 display:block;
	 border:2px solid #ddd;
	 text-align:center;
	 background-color:#000
	
 }
 .fabric-box{
	position:relative;
	width:auto;
	height:auto;
	display:inline-block;
	overflow:hidden;
 }

.gif-box{
	position:absolute;
	left:0;
	top:0;
	width:100%;
	height:100%;
}
.gif-box::before,
.gif-box::after {
	content:'';
	position:relative;
	display:inline-block;
	width:0;
	height:100%;
	vertical-align:middle;
	margin:0 -20px;
}
.gif-box img {
	display:inline-block;
	vertical-align:middle;
	width:auto;
	height:auto;	
	max-width:100%;
}

.fabric-box > img{
	position:absolute;
	pointer-events:none;
}
.fabric-box.hide-mask img {
	opacity:0;
}
.fabric-box img.is-hide {
	opacity:0;
}

.canvas-container{
	margin:0 auto;
	border:1px solid #ddd;
}


/*upload tools*/
.upload-tools{
	position:relative;
	display:block;
	width:100%;
	height:auto;
	color:#fff;
}
.upload-tools div {
	position:relative;
	width:120px;
	height:46px;
	display:inline-block;
	vertical-align:middle;
	margin:10px 5px;
	padding:10px;
	line-height:24px;
	border:1px solid #ddd;
	-webkit-border-radius:30px;
	border-radius:30px;
	font-size:16px;
	text-align:center;
	text-transform:uppercase;
	cursor:pointer;
	-webkit-box-sizing:border-box;
	box-sizing:border-box;
}
.upload-tools div input{
	position:absolute;
	left:0;
	top:0;
	width:100%;
	height:100%;
	font-size:0;
	opacity:0;
	cursor:pointer;
}


 ul, li {
	 list-style-type:none;
	 margin:0;
	 padding:0;
	 -webkit-box-sizing:border-box;
	 box-sizing:border-box;
 }
 .tools li,
 .paint-tools li,
 .tools-top li {
	 width:auto;
	 height:auto;
	 display:inline-block;
	 padding:10px;
	 background-color:#ddd;
	 border-radius:10px;
	 cursor:pointer;
 }
 .hide{
	 display:none !important;
 }
 .tools {
	 padding:10px 0;
 }
 
 
 /*paint*/
 .paint-tools{
	 position:fixed;
	 right:0;
	 bottom:0;
	 width:200px;
	 height:auto;
	 padding:10px;
 }
  .paint-tools ul {
	  width:100%;
	  overflow:hidden;
  }
 .paint-tools li {
	 float:left;
	 width:49%;
	 margin:0 1% 1% 0;
 }
 
 /*sticker*/
 .sticker-box{
	 position:fixed;
	 left:0;
	 top:0;
	 width:80px;
	 height:auto;
 }
.sticker-box ul {
	width:100%;
	padding:60px 0 0 30px;
}

.sticker-box li {
	display:inline-block;
	width:100%;
	margin:10px auto;
	text-align:center;
	cursor:pointer;
	
}
.sticker-box li img {
	display:inline-block;
	width:auto;
	height:auto;
	max-width:60%;
}



/*filter*/
.filter-box{
	position:fixed;
	width:100%;
	height:auto;
	left:0;
	top:0;
	padding:20px 0;
}
.filter-box li {
	display:inline-block;
	vertical-align:top;
	padding:5px 7px;
	margin:5px;
	cursor:pointer;
	text-align:left;
	font-size:13px;
}

.filter-box li label, .filter-box li input {
	display:inline-block;
	width:auto;
	vertical-align:middle	
}
.filter-box li input {
	cursor:pointer;
}

/*text tools*/
.text-tools{
	position:fixed;
	right:0;
	bottom:180px;
	padding:20px;
	width:300px;
	height:auto;
	text-align:right;
	background-color:#f2f2f2;
	-webkit-border-radius:30px;
	border-radius:30px;
}
.box {
  float: left;
  margin: 1em;
}
.after-box {
  clear: left;
}
.text-tools div {
	margin:5px 0;
}
 
</style>
</head>
<body>

<div class="fabric-content">

<div class="upload-tools">
<div>Gif<input type="file" onChange="loadGif(this)" id="gifLoad" accept="image/gif"></div>
<div>Vdo<input type="file" onChange="loadVideo(this)" id="vidLoad" accept="video/*"></div>
<div>Jpg<input type="file" onChange="loadFile(this)" id="fileLoad" accept="image/png, image/jpeg"></div>
</div>

<div class="fabric-box">
<div class="gif-box"><img id="imgGif" src="data:image/gif;base64,R0lGODlhAQABAIAAAP7//wAAACH5BAAAAAAALAAAAAABAAEAAAICRAEAOw==" alt="gif mask"></div>
<canvas id="canvas"></canvas>
</div>

<div class="text-tools">
<div id="text-wrapper">

<ul>
<li>
<label for="fillColor">Color:</label>
<input type="color" value="" id="fillColor" size="10">
</li>

<li>
<label for="fontFamily">Fonts</label>
<select id="fontFamily">
<option value="arial">Arial</option>
<option value="helvetica" selected>Helvetica</option>
<option value="myriad pro">Myriad Pro</option>
<option value="delicious">Delicious</option>
<option value="verdana">Verdana</option>
<option value="georgia">Georgia</option>
<option value="courier">Courier</option>
<option value="comic sans ms">Comic Sans MS</option>
<option value="impact">Impact</option>
<option value="monaco">Monaco</option>
<option value="optima">Optima</option>
<option value="hoefler text">Hoefler Text</option>
<option value="plaster">Plaster</option>
<option value="engagement">Engagement</option>
</select>
</li>

<li>
<label for="textAlign">Text align:</label>
<select id="textAlign">
<option value="left">Left</option>
<option value="center">Center</option>
<option value="right">Right</option>
<option value="justify">Justify</option>
</select>
</li>

<li>
<label for="fontSize">Font size:</label>
<input type="range" value="" min="1" max="120" step="1" id="fontSize">
</li>

<li>
<label for="lineHeight">Line height:</label>
<input type="range" value="" min="0" max="10" step="0.1" id="lineHeight">
</li>

<li>
<label for="strokeColor">Stroke color:</label>
<input type="color" value="" id="strokeColor">
</li>

<li>
<label for="strokeWidth">Stroke width:</label>
<input type="range" value="1" min="1" max="100" id="strokeWidth">
</li>

<li>
<label>Bold</label>
<input type='checkbox' name='fonttype' id="textBold">
</li>

<li>
<label>Italic</label>
<input type='checkbox' name='fonttype' id="textItalic">
</li>

<li>
<label>Underline</label>
<input type='checkbox' name='fonttype' id="textUnderline">
</li>

<li>
<label>Linethrough</label>
<input type='checkbox' name='fonttype' id="textLinethrough">
</li>

<li>
<label>Overline</label>
<input type='checkbox' name='fonttype' id="textOverline">
</li>
</ul>

</div>
</div>

<div class="paint-tools">
<ul>
<li id="btnCircle">Circle</li>
<li id="btnEllipse">Ellipse</li>
<li id="btnLine" class="hide">Line</li>
<li id="btnPolygon" class="hide">Polygon</li>
<li id="btnPolyline" class="hide">Polyline</li>
<li id="btnRectangle">Rect</li>
<li id="btnTriangle">Triangle</li>
<li id="btnSuperscript">Superscript</li>
</ul>
</div>

<div class="tools">
<ul>
<li id="btnDelete">Delete</li>
<li id="btnDeleteAll">Delete all</li>
<li id="btnDownload">Download</li>
</ul>
</div>

<div class="sticker-box">
<ul>
<li data-url="img/explosion.png"><img src="img/explosion.png" alt="explosion"></li>
<li data-url="img/articuno.gif"><img src="img/articuno.gif" alt="explosion"></li>
<li data-url="img/blastoise.gif"><img src="img/blastoise.gif" alt="blastoise"></li>
<li data-url="img/lebron.gif"><img src="img/lebron.gif" alt="lebron"></li>
<li data-url="img/mew.gif"><img src="img/mew.gif" alt="mew"></li>
</ul>
</div>

<div class="filter-box">
<ul>
<li data-filter="grayscale">Grayscale</li>
<li data-filter="invert">Invert</li>
<li data-filter="sepia">Sepia</li>
<li data-filter="sepia2">Sepia2</li>
<li data-filter="blur">Blur</li>
<li data-filter="sharpen">Sharpen</li>
<li data-filter="emboss">Emboss</li>
<li data-filter="remove-color">RemoveColor
<div>
<label for="distance-color">Distance</label>
<input type="range" value="0.02" min="0" max="0.9" step="0.01" id="distance-color">
</div>
</li>

<li data-filter="gradient">Gradient
<div>
<label for="gradient-threshold">value</label>
<input type="range" value="100" min="0" max="225" step="1" id="gradient-threshold">
</div>
</li>

</ul>
</div>

</div>

<script src="bluebird.min.js"></script>
<script src="main.js"></script>

</body>
</html>
